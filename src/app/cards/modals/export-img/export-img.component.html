<div class="modal-content" #content id="capture">
	<div class="modal-header bg-dark text-light">
		<div class="brand">
			<img id="brand-logo" src="assets/logo.svg" alt="digi-calc">
			<span id="app-title" class="d-flex flex-column text-start">
				<span style="margin-bottom: -7px;">Digimon Card Game</span>
				<span>Price Calculator</span>
			</span>
			<span class="app-subtitle ms-2 ps-2 screenshot-hide">
				Exportar foto
			</span>
		</div>
		

		<button type="button" class="btn btn-danger screenshot-hide" (click)="close('Cross click')">
			&#x2715;
		</button>
	</div>
	<div class="modal-body bg-modal-content">

		<form [formGroup]="form" class="row g-3 screenshot-hide">
			<div class="col col-md-3">
				<app-currency-select formControlName="currency" (ngModelChange)="onCurrencyChange($event)"></app-currency-select>
			</div>

			<div class="btn-group col col-md-3" role="group">
				<button type="button" class="btn btn-primary btn-sm" (click)="zoom(1)">
					<fa-icon icon="search-minus" />
				</button>
				<button type="button" class="btn btn-primary btn-sm active" disabled >
					Zoom
				</button>
				<button type="button" class="btn btn-primary btn-sm" (click)="zoom(-1)" [disabled]="colExport <= 3">
					<fa-icon icon="search-plus" />
				</button>
			</div>
	
			<div class="btn-group col col-md-3" role="group">
				<button type="button" class="btn btn-primary btn-sm active" (click)="screenshot()">
					Exportar <fa-icon icon="download" />
				</button>
			</div>
		</form>

		<div class="row row-cols-1 d-none screenshot-show">
			<div class="col">
				<span>
					<strong> Dólar: </strong>${{ dolar.venta | currency }} 
				</span>
			</div>
			<div class="col">
				<span>
					<strong> Moneda seleccionada: </strong>{{ this.form.getRawValue().currency }} 
				</span>
			</div>
			<div class="col">
				<span>
					<strong> Fecha generación: </strong>{{ actualDate | date:'dd/MM/yyyy' }} 
				</span>
			</div>
		</div>

		<div class="row justify-content-center">
			<div *ngFor="let item of cards; let index = index" class="card-export-item m-2 p-0 text-center" [style.width]="colExportWidth">

				<span class="bg-badge-unit-price-export-card bg-secondary badge d-block export-font">
					<span *ngIf="item.multiplier > 1">
						$ {{ getPrecio(item) | currency}}
					</span>
					<span *ngIf="item.multiplier == 1">
						&nbsp;
					</span>
				</span>	

				<div class="img-container d-flex justify-content-center align-items-center">
					<img [src]="item.image_base64" class="img-fluid mh-100" onerror="this.onerror=null;this.src='assets/card-back.png';"/>
					<span class="position-absolute bg-badge-multiplier-export-card badge rounded-pill">
						{{ item.multiplier }}
					</span>
				</div>

				<span class="bg-badge-total-export-card bg-primary badge d-block export-font">
					${{ getPrecio(item) * item.multiplier | currency }}
				</span>

			</div>				
		</div>
	</div>
	
	<div class="modal-footer bg-primary text-light">
		<div class="alert p-0 text-end fw-bolder">
			<span>Precio total:
				<strong>ARS {{ precioTotal | currency}}</strong> / <strong>USD {{ precioTotalUSD | currency}}</strong>
			</span>
		</div>
	</div>
</div>
