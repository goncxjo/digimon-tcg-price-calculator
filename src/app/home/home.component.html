<div class="alert alert-success text-center mt-3">
	<span *ngIf="!dolar">
		<fa-icon id="loading-logo" icon="spinner" animation="spin" class="me-2"></fa-icon>Obteniendo cotización
	</span>
	<span *ngIf="dolar">
		<fa-icon icon="money-bill-trend-up" class="me-2"></fa-icon> Dolar hoy: ARS {{ dolar.venta | currency}}
	</span>
</div>

<div class="row" *ngIf="dolar">
	<app-card-searcher *ngIf="!id" (card)="onCardAdded($event)"></app-card-searcher>
	
	<div @myInsertRemoveTrigger class="mt-5 info-ayuda" *ngIf="mostrarAyuda && cards.length === 0">
		<div class="alert alert-info d-flex flex-row align-items-center">
			<span>
				<fa-icon icon="circle-info" class="me-3"></fa-icon>
			</span>
			<span>
				Para agregar cartas, escriba en el panel de búsqueda y seleccione alguno de los resultados.
			</span>
		</div>
	</div>
</div>


<div class="row">
	<div *ngFor="let item of cards; let index = index" [ngClass]="{'col-12': !item.infoReduced, 'col-md-6 col-lg-4': item.infoReduced}">
		<div class="card my-3">

			<span *ngIf="item.infoReduced">
				<button class="border-0 position-absolute top-0 start-100 translate-middle badge rounded-close-btn bg-danger">
					<fa-icon icon="times"></fa-icon>
					<span class="visually-hidden">cantidad cartas</span>
				</button>
				<div class="btn-group-vertical position-absolute top-50 start-100 translate-middle" role="group">
					<button type="button" class="btn btn-sm btn-secondary" (click)="changeMultiplier(item, 1)">
						<fa-icon icon="plus"></fa-icon>
					</button>
					<button type="button" class="btn btn-sm btn-secondary px-0 active">
						x{{ item.multiplier }}
					</button>
					<button type="button" class="btn btn-sm btn-secondary" (click)="changeMultiplier(item, -1)">
						<fa-icon icon="minus"></fa-icon>
					</button>
				</div>
			</span>

			<div class="card-body p-3">
				<app-card-info
					[data]="item"
					[dolar]="dolar"
					(priceChangeEvent)="onPriceChanged($event)"
					(cardRemovedEvent)="onCardRemoved($event)"
				></app-card-info>
			</div>
		</div>
	</div>
</div>

<div *ngIf="cards.length > 0" class="alert alert-primary mt-3 text-end fw-bolder">
	<span>Precio total: <strong>ARS {{ precioTotal | currency}}</strong></span>
</div>


	<!-- <button type="button" class="btn btn btn-primary btn-sm no-radius ms-2" (click)="generateUrl()" ngbTooltip="URL Copiada :)" [autoClose]="'outside'" triggers="click">
		Compartir URL <fa-icon icon="share-from-square"></fa-icon>
	</button> -->
